/*!
 * Kriya Yoga de Babaji - Mobile-Only Responsive CSS
 * Version: 3.0.0 (Surgical approach)
 * Description: ONLY affects mobile devices (<768px) - Desktop layout untouched
 * Author: Development Team
 */

/* ========================================
   MOBILE-ONLY RESPONSIVE STYLES
   CRITICAL: Only applies to screens <768px
   ======================================== */

/* Only apply changes on mobile devices */
@media screen and (max-width: 767px) {

  /* Viewport adjustments for mobile */
  html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  /* Mobile container adjustments */
  #contenedor {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 5px !important;
    box-sizing: border-box;
  }

  #todaPagina {
    width: 100% !important;
    max-width: 100% !important;
    padding: 10px !important;
    box-sizing: border-box;
  }

  #todaPaginaB {
    width: 100% !important;
    box-sizing: border-box;
  }

  /* Make images responsive on mobile - FORZAR para evitar overflow */
  img {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
    display: block !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Forzar imágenes con atributos inline width/height */
  img[width],
  img[height] {
    max-width: 100% !important;
    height: auto !important;
    width: auto !important;
    display: block !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  /* Logo principal debe usar todo el ancho */
  #cabeceraIndex img[width="922"] {
    width: 100% !important;
    height: auto !important;
  }

  /* Mobile typography adjustments */
  body {
    font-size: 16px;
    line-height: 1.4;
  }

  /* Tables responsive on mobile */
  table {
    width: 100% !important;
    border-collapse: collapse;
  }

  table td, table th {
    padding: 8px;
    font-size: 14px;
  }

  /* Basic responsive utilities - mobile only */
  .mobile-text-center {
    text-align: center;
  }

  .mobile-full-width {
    width: 100%;
  }

  .mobile-hidden {
    display: none;
  }

  .mobile-block {
    display: block;
  }

  /* ========================================
     FASE 1: FIXES CRÍTICOS DE LAYOUT
     Layout de 3 columnas a 1 columna en móvil
     ======================================== */

  /* FIX 1: Layout de 3 columnas (#lateral + #blanco2 + #noticias) a 1 columna */
  #contenidos2,
  #contenidos2 li {
    float: none !important;
    display: block !important;
    width: 100% !important;
  }

  /* FIX 2: Ocultar sidebar en móvil (se integra en burger menu) */
  #lateral {
    display: none !important;
  }

  /* FIX 3: Ocultar espaciador (30px) en móvil - desperdicia espacio */
  #blanco2 {
    display: none !important;
  }

  /* FIX 4: Contenido principal al 100% con padding para buena distribución */
  #noticias,
  #noticiasA {
    width: 100% !important;
    padding: 15px !important;
    box-sizing: border-box;
  }

  /* FIX 5: Barra divisoria responsive */
  #barra,
  #barra img {
    width: 100% !important;
  }

  /* FIX 6: Sub-layouts de noticias (bloques flotantes internos) */
  .noticias1,
  .noticias2 {
    width: 100% !important;
  }

  .noticias1Ul li,
  .noticias2Ul li,
  .bienvenidosUl li {
    float: none !important;
    display: block !important;
    width: 100% !important;
    margin-bottom: 15px;
  }

  /* FIX 7: Ocultar separadores "|" del menú en móvil */
  #menu li:not(:has(a)) {
    display: none !important;
  }

  /* Alternativa compatible (si :has no funciona en navegadores antiguos) */
  #menu ul > li:nth-child(2),
  #menu ul > li:nth-child(4),
  #menu ul > li:nth-child(6),
  #menu ul > li:nth-child(8),
  #menu ul > li:nth-child(10),
  #menu ul > li:nth-child(12) {
    display: none !important;
  }

  /* FIX 8: Ocultar enlaces del cabecera en mobile (se integran en burger) */
  #cabecera {
    display: none !important;
  }

  /* FIX 9: Evitar overflow horizontal - AGRESIVO */
  html {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  * {
    max-width: 100vw !important;
  }

  body {
    overflow-x: hidden !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    padding-top: 120px !important; /* Space for fixed navbar */
  }

  #contenedor,
  #todaPagina,
  #todaPaginaB,
  #cabeceraIndex,
  #cita,
  .bienvenidos {
    overflow-x: hidden !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Forzar todo el contenido dentro del viewport */
  div, p, h1, h2, h3, h4, ul, li {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Header centrado */
  #cabeceraIndex {
    text-align: center !important;
    padding: 10px 0 !important;
  }

  /* Ocultar logo original en mobile (lo pondremos en navbar) */
  #cabeceraIndex img[name="logo"] {
    display: none !important;
  }

  /* Cita del día responsive */
  #cita {
    width: 100% !important;
    padding: 12px !important;
    font-size: 14px !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    margin: 15px 0 !important;
    text-align: center !important;
    font-style: italic !important;
    line-height: 1.5 !important;
    background-color: #f9f9f9 !important;
    border-left: 3px solid #AC1429 !important;
  }

  /* FIX 10: ESPACIADO JERÁRQUICO - Bloques separados, imagen+texto juntos */

  /* Contenedores principales */
  #todaPagina {
    padding: 10px 15px !important; /* Aumentado padding lateral */
  }

  #noticias {
    padding: 15px 20px !important; /* Aumentado padding lateral */
  }

  /* === JERARQUÍA DE BLOQUES === */
  /* Cada bloque de noticias (imagen + texto) separado claramente */
  .noticias1,
  .noticias2 {
    margin-top: 30px !important;    /* SEPARACIÓN GRANDE del bloque anterior */
    margin-bottom: 0 !important;
    padding: 15px 0 !important;
    border-top: 2px solid #f0f0f0;  /* Línea sutil para separar bloques */
  }

  /* Primer bloque sin borde superior */
  .noticias1:first-of-type,
  .noticias2:first-of-type {
    border-top: none !important;
    margin-top: 10px !important;
  }

  /* === DENTRO DEL BLOQUE: Imagen cerca de su texto === */
  /* FORZAR orden: imagen SIEMPRE antes de texto en mobile */
  .noticias1Ul,
  .noticias2Ul {
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
  }

  .noticias1Ul li,
  .noticias2Ul li {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
  }

  /* Orden forzado en mobile: imagen primero, texto después */
  .noticias1Ul li:has(#fotoNoticias1),
  .noticias1Ul li:has(#fotoNoticias2),
  .noticias1Ul li:has(#fotoNoticias3),
  .noticias1Ul li:has(#fotoNoticias4),
  .noticias1Ul li:has(#fotoLibro),
  .noticias2Ul li:has(#fotoNoticias1),
  .noticias2Ul li:has(#fotoNoticias2),
  .noticias2Ul li:has(#fotoNoticias3),
  .noticias2Ul li:has(#fotoNoticias4),
  .noticias2Ul li:has(#fotoLibro) {
    order: 1 !important;  /* Imagen va primero */
  }

  .noticias1Ul li:has(#textoNoticias1),
  .noticias1Ul li:has(#textoNoticias2),
  .noticias1Ul li:has(#textoNoticias3),
  .noticias1Ul li:has(#textoLibro),
  .noticias2Ul li:has(#textoNoticias1),
  .noticias2Ul li:has(#textoNoticias2),
  .noticias2Ul li:has(#textoNoticias3),
  .noticias2Ul li:has(#textoLibro) {
    order: 2 !important;  /* Texto va segundo */
  }

  /* Espaciadores siempre ocultos */
  .noticias1Ul li:has(#blancoNoticias1),
  .noticias1Ul li:has(#blancoLibro),
  .noticias2Ul li:has(#blancoNoticias1),
  .noticias2Ul li:has(#blancoLibro) {
    display: none !important;
  }

  /* Respaldo: ocultar espaciadores directamente */
  #blancoNoticias1,
  #blancoLibro {
    display: none !important;
  }

  /* Contenedor de foto: centrado y sin dimensiones fijas */
  #fotoNoticias1,
  #fotoNoticias2,
  #fotoNoticias3,
  #fotoNoticias4,
  #fotoLibro {
    text-align: center !important;
    margin: 0 auto 12px auto !important;  /* 12px entre imagen y texto */
    padding: 0 !important;
    width: 100% !important;
    height: auto !important;
    max-width: 100% !important;
    overflow: visible !important;
  }

  /* Imágenes centradas y sin restricciones que causen superposición */
  #fotoNoticias1 img,
  #fotoNoticias2 img,
  #fotoNoticias3 img,
  #fotoNoticias4 img,
  #fotoLibro img {
    display: block !important;
    margin: 0 auto !important;
    max-width: 85% !important;  /* Un poco de margen a los lados */
    width: auto !important;
    height: auto !important;
    position: static !important;
    float: none !important;
  }

  /* Contenedor de texto: pegado a la imagen, sin dimensiones fijas */
  #textoNoticias1,
  #textoNoticias2,
  #textoNoticias3,
  #textoLibro {
    margin: 0 !important;
    padding: 0 20px !important; /* Aumentado de 10px a 20px */
    text-align: left !important;
    width: 100% !important;
    height: auto !important;
    max-width: 100% !important;
    overflow: visible !important;
    position: static !important;
    float: none !important;
  }

  /* === TIPOGRAFÍA === */
  #textoNoticias1 h2,
  #textoNoticias2 h2,
  #textoNoticias3 h2,
  #textoLibro h2 {
    margin-top: 0 !important;
    margin-bottom: 8px !important;
    line-height: 1.3 !important;
  }

  #textoNoticias1 h4,
  #textoNoticias2 h4,
  #textoNoticias3 h4,
  #textoLibro h4 {
    margin: 8px 0 !important;
    color: #AC1429 !important;
    font-weight: bold !important;
  }

  /* Párrafos dentro de textos */
  #textoNoticias1 p,
  #textoNoticias2 p,
  #textoNoticias3 p,
  #textoLibro p {
    margin: 6px 0 !important;
  }

  /* === BARRAS DIVISORIAS === */
  /* Las barras entre bloques deben ser visibles pero discretas */
  img[src*="barraAtenuada"] {
    display: block !important;
    width: 100% !important;
    height: 1px !important;
    margin: 25px auto !important;
    opacity: 0.3 !important;
  }

  /* === ELIMINAR ESPACIOS INNECESARIOS === */
  /* Párrafos vacíos completamente ocultos */
  p:empty,
  p:blank {
    display: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Párrafos con solo &nbsp; */
  #noticias > p {
    display: none !important;
  }

  /* BRs ocultos */
  br {
    display: none !important;
  }

  /* Barra divisoria principal (#barra) */
  #barra {
    margin: 20px 0 !important;
    padding: 0 !important;
  }

  #barra img {
    width: 100% !important;
    opacity: 0.5 !important;
  }

  /* === SLIDESHOW Y OTRAS IMÁGENES === */
  /* Asegurar que el slideshow esté centrado */
  .bienvenidos {
    text-align: center !important;
    margin: 20px 0 !important;
    padding: 0 !important;
  }

  .bienvenidosUl {
    margin: 0 !important;
    padding: 0 !important;
  }

  .bienvenidosUl li {
    margin: 0 auto !important;
    padding: 0 !important;
    text-align: center !important;
  }

  /* Contenedor del slideshow */
  #pictureholder,
  .pictureholder {
    margin: 0 auto !important;
    text-align: center !important;
  }

  /* Todas las imágenes del slideshow centradas */
  #pictureholder img,
  .pictureholder img,
  .picture {
    display: block !important;
    margin: 0 auto !important;
    max-width: 100% !important;
    height: auto !important;
  }

  /* === LINKS EN IMÁGENES === */
  /* Asegurar que los enlaces no descuadren las imágenes */
  a img {
    display: block !important;
    margin: 0 auto !important;
  }

}

/* ========================================
   TABLET MINOR ADJUSTMENTS (768px - 991px)
   ======================================== */
@media screen and (min-width: 768px) and (max-width: 991px) {
  /* Only very minimal adjustments for tablets */
  #contenedor {
    width: 95%;
    max-width: 953px;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */
@media print {
  #contenedor {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  #todaPagina {
    border: none !important;
    padding: 0 !important;
  }
}